# OpenTelemetry Java Agent Configuration
# HTTP Header Capture Configuration

# Enable HTTP request/response headers capture
otel.instrumentation.http.capture-headers.client.request=x-session-id,x-user-action,x-source-page,x-customer-segment,x-cart-items-count,x-order-value,x-user-email,x-api-version,x-client-version
otel.instrumentation.http.capture-headers.server.request=x-session-id,x-user-action,x-source-page,x-customer-segment,x-cart-items-count,x-order-value,x-user-email,x-api-version,x-client-version
otel.instrumentation.http.capture-headers.client.response=x-trace-id,x-span-id
otel.instrumentation.http.capture-headers.server.response=x-trace-id,x-span-id

# Service name configuration
otel.service.name=api-gateway
otel.service.version=1.0.0

# Resource attributes
otel.resource.attributes=deployment.environment=docker,service.namespace=ecommerce

# Exporter configuration
otel.exporter.otlp.endpoint=http://otel-collector:4317
otel.exporter.otlp.protocol=grpc

# Propagation configuration
otel.propagators=tracecontext,baggage,b3,b3multi

# Sampling configuration
otel.traces.sampler=always_on

# Enable instrumentation
otel.instrumentation.spring-webmvc.enabled=true
otel.instrumentation.spring-web.enabled=true
otel.instrumentation.http.enabled=true
otel.instrumentation.servlet.enabled=true
otel.instrumentation.logback-appender.enabled=true

# Custom span attributes
otel.instrumentation.common.experimental.controller.telemetry.enabled=true
otel.instrumentation.common.experimental.view.telemetry.enabled=true